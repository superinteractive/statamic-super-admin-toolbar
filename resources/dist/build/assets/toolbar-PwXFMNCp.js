class i{constructor(){this.cookieName="super-admin-toolbar-opened",this.container=document.getElementById("super-admin-toolbar"),this.toggleButton=document.getElementById("super-admin-toolbar-toggle"),this.activeDropdown=null}init(){!this.container||!this.toggleButton||(this.syncToolbarState(),this.toggleButton.addEventListener("click",()=>this.toggleToolbar()),document.addEventListener("click",t=>this.handleClick(t)))}syncToolbarState(){this.container.toggleAttribute("si-group-toggled",this.getCookie(this.cookieName)==="true")}toggleToolbar(){const t=this.container.hasAttribute("si-group-toggled");this.container.toggleAttribute("si-group-toggled",!t),this.setCookie(this.cookieName,!t),t&&this.closeDropdown()}handleClick(t){const o=t.target.closest("[data-dropdown-toggle]");if(o){const e=document.getElementById(o.dataset.dropdownToggle);e&&this.toggleDropdown(e,o);return}this.activeDropdown&&!t.target.closest(".si-toolbar-dropdown-menu")&&!t.target.closest("[data-dropdown-toggle]")&&this.closeDropdown()}toggleDropdown(t,o){if(this.activeDropdown===t){this.closeDropdown();return}this.closeDropdown(),t.style.display="block",this.activeDropdown=t,this.activeToggle=o}closeDropdown(){this.activeDropdown&&(this.activeDropdown.style.display="none",this.activeDropdown=null,this.activeToggle=null)}getCookie(t){const o=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return o?o.pop():""}setCookie(t,o){document.cookie=`${t}=${o}; path=/; SameSite=Lax; max-age=${60*60*24*365}`}}window.SuperAdminToolbar=i;
